# 정규표현식

- 연습 사이트 : https://regexr.com/

<br>
<br>
<br>
<br>

# 정규표현식 메타문자

- 정규표현식에는 다음과 같은 메타문자가 있다.
- `.`,`^`,`*`,`?`,`{}`,`[]`,`\`,`|`,`()`
- 메타문자란, 문자 그대로의 의미가 아니라 다른 의미를 부여하는 것이다.

<br>
<br>
<br>

### `[]` 문자클래스

- 문자 클래스는 후보군을 추리는 것이다.
- `[abc]`는 a, b, c 중 한 개의 문자와 매치되는 것을 찾는다.
- 문자 클래스 안에 `-` 하이픈을 넣으면 범위를 의미한다.
  - `[a-zA-Z]`: 알파벳 모두
  - `[0-9]` : 숫자 모두
- 문자 클래스 안에서 `^`메타 문자를 사용할 경우 **NOT**의 의미를 가진다.
  - `[^0-9]`: 숫자가 아닌 것
  - `^`를 문자 그대로로 인식하려면 백슬래시를 써줘야 한다. `[\^]`

<br>

> #### 자주 사용되는 문자 클래스 표현을 대신하는 것들
>
> `\d` 는 `[0-9]`와 같다.
> `\D` 는 `[^0-9]`와 같다.
> `\s` 는 whitespace 문자를 의미한다. `[ \t\n\r\f\v]` > `\S` 는 whitespace 문자가 아닌 것을 의미 `[^ \t\n\r\f\v]` > `\w` 는 문자+숫자+언더바를 의미 `[0-9a-zA-Z_]`와 동일(언더바 포함)
> `\W` 는 문자+숫자+언더바가 아닌 것 `[^0-9a-zA-Z_]`

<br>
<br>
<br>

### Dot `.`

- `.`은 어떤 문자도 허용한다는 것이다.
  - `a.b`는 a와 b사이에 어떤 문자든 허용한다는 것이다.`abb`,`acb` 모두 매치된다.
- 문자클래스 안에 `.`을 사용하면 문자 그대로의 `.`을 의미한다.
  - `a[.]b`의 경우 `a.b`는 매칭되지만, `acb`는 매칭되지 않는다.

<br>
<br>
<br>

### 반복 `*`

- `*`앞에 있는 문자가 **0번 이상** 반복된다는 의미다.
  - `ab*c`는 `ab`, `abbbc`, `abc`, `abbbbbbbc` 모두 매칭된다.

<br>

### 반복 `+`

- `+`는 앞에 있는 문자가 최소 **1번 이상** 반복된다는 의미다.
  - `ab+c`는 `abbbbbbbc`, `abc`와 매칭되지만, `ac`와는 매칭되지 않는다.

<br>

### 반복 `{}` `,`

- `{m,n}`은 앞의 문자가 m번이상 n번 이하인 경우에만 매칭된다.
- `{m}`은 앞의 문자가 m번인 경우에만 매칭된다.
- `{m,}`은 m번 이상이기만 하면 매칭된다.
- `{,n}`은 n번 이하이기만 하면 매칭된다.

<br>
<br>
<br>

### 있을 수도 없을 수도 `?`

- `?`은 앞의 문자가 있거나 없는경우 매칭된다.
  - `{0,1}`의 의미와 같다.

<br>
<br>
<br>

### or `|`

- `A|B`라는 정규식이 있으면 A 또는 B가 있으면 매칭된다.

<br>
<br>
<br>

### startswith() `^`, endswith() `$`

- `^`는 문자열 메서드 startswith()와 동일한 기능이다.
  - `^abc`는 abc로 시작되는 문자열에만 매칭된다.
- `$`는 문자열 메서드 endswith()와 동일한 기능이다.
  - `$abc`는 abc로 끝나는 문자열에만 매칭된다.

<br>
<br>
<br>

### group `()`

- 서브 문자열에 대해 반복을 조사하고 싶을 때, 서브 문자열을 `()`로 묶어주면 된다.
  - `(ABC)+`는 서브 문자열 ABC가 반복되는 경우를 매칭한다.
- 문자열 + 숫자로 이뤄진 경우 문자열만 뽑고 싶을 때, 정규표현식을 쓰면 된다.
  - `([a-zA-Z]+)\s+(\d+[-]\d+[-]\d+)`

<br>
<br>
<br>
<hr>
<br>

# Python에서 정규표현식 사용

- 파이썬은 정규 표현식을 사용하기 위해 `re` 모듈을 가져와야 한다.
  - `import re`
- `p = re.compile(정규표현식)`을 사용해서 정규표현식을 컴파일한다.
  - 반환해주는 패턴 객체를 사용하여 정규표현식을 이용할 수 있다.

<br>
<br>

### 패턴 객체의 match & search

> 일단 얘네는 문자열 전체에서 하나만 찾게 된다.
> match는 앞에서부터 찾는데, 앞에서 매치 안되면 None반환

- `p.match()`
  - 문자열의 처음부터 정규식과 매치되는지 조사한다.
  - 매치가 된다면, match 객체를 돌려주고 아닌 경우 None을 돌려준다.
- `p.search()`
  - 문자열 **전체**를 검색하여 정규식과 매치되는지 조사한다.
  - 매치가 된다면, match 객체를 돌려주고 아닌 경우 None을 돌려준다.

보통 다음과 같은 흐름으로 코드를 작성하게 된다.

```python
import re
p = re.compile("[a-z]+")
m = p.match("something")
if m : print("matched")
else : print("None")
```

### match 객체의 메서드

- `group()`: 매치된 문자열을 돌려준다.
- `start()`: 매치된 문자열의 시작 위치를 돌려준다.
- `end()` : 매치된 문자열의 끝 위치를 돌려준다.
- `span()` : 매치된 문자열의 (시작, 끝)을 튜플로 돌려준다.

<br>
<br>
<br>

### 패턴 객체의 findall() & finditer()

- `p.findall()`
  - 매치되는 부분 문자열들을 리스트로 만들어서 반환해준다.
